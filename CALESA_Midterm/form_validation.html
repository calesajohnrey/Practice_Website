<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Form Validation Page</title>
    <style>
      * {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        /* border: 1px solid black; */
      }
      main {
        height: auto;
        background-color: #ffff;
        color: #000;
      }
      button#submit-btn {
        border: 1px solid #eaeaea;
        margin: 10px;
      }
    </style>
  </head>
  <body>
    <main>
      <div class="container">
        <h1>WELCOME TO THE PHILIPPINES</h1>
        <form>
          <div class="form-group">
            <label for="name">First Name:</label>
            <input type="text" class="form-control" id="name" required />
            <div class="empty-feedback-fn" style="color: #c30010">
              Please input something.
            </div>
            <div class="invalid-feedback-fn" style="color: #c30010">
              Please enter a valid name.
            </div>
          </div>
          <div class="form-group">
            <label for="surname">Last Name:</label>
            <input type="text" class="form-control" id="surname" />
            <div class="empty-feedback-ln" style="color: #c30010">
              Please input something.
            </div>
            <div class="invalid-feedback-ln" style="color: #c30010">
              Please enter a valid name.
            </div>
          </div>
          <div class="form-group">
            <label for="email">Email address:</label>
            <input type="email" class="form-control" id="email" />
            <div class="empty-feedback-em" style="color: #c30010">
              Please input something.
            </div>
            <div class="invalid-feedback-em" style="color: #c30010">
              Please enter a valid email.
            </div>
          </div>
          <div class="form-group">
            <label for="birthday">Birthdate:</label>
            <input type="date" class="form-control" id="birthday" />
            <div class="empty-feedback-bd" style="color: #c30010">
              Please input something.
            </div>
            <div class="invalid-feedback-bd" style="color: #c30010">
              You must be 18 years old and above to create an account.
            </div>
          </div>
          <div class="form-group">
            <label for="number">Phone Number:</label>
            <input type="tel" class="form-control" id="number" />
            <div class="empty-feedback-num" style="color: #c30010">
              Please input something.
            </div>
            <div class="invalid-feedback-num" style="color: #c30010">
              Please enter a valid phone number.
            </div>
          </div>
          <div class="form-group">
            <label for="pwd">Password:</label>
            <input
              type="password"
              class="form-control"
              pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,30}"
              id="pwd"
              required
            />
            <div class="empty-feedback-pw" style="color: #c30010">
              Please input something.
            </div>
            <div class="invalid-feedback-pw" style="color: #c30010">
              “Your password must have 8 characters or more, and contain at
              least one special character, number, uppercase letter, and
              lowercase letter.”
            </div>
          </div>
          <div class="checkbox">
            <label><input type="checkbox" /> Remember me</label>
            <div class="invalid-feedback">Check this checkbox to continue.</div>
          </div>
          <button type="submit" class="btn btn-default" id="submit-btn">
            Submit
          </button>
        </form>
      </div>
    </main>
    <script>
      $(document).ready(function () {
        // initiate all variables
        $(".empty-feedback-fn").hide();
        $(".empty-feedback-ln").hide();
        $(".empty-feedback-bd").hide();
        $(".empty-feedback-em").hide();
        $(".empty-feedback-num").hide();
        $(".empty-feedback-pw").hide();
        $(".invalid-feedback-fn").hide();
        $(".invalid-feedback-ln").hide();
        $(".invalid-feedback-bd").hide();
        $(".invalid-feedback-em").hide();
        $(".invalid-feedback-num").hide();
        $(".invalid-feedback-pw").hide();
        let pwdUpper = /[A-Z]+/;
        let pwdLower = /[a-z]+/;
        let pwdNumber = /[0-9]+/;
        let pwdSpecial = /[!@#$%^&()'[\]"?+-/*={}.,;:_]+/;
        let validRegex =
          /^[a-zA-Z0-9]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
        let specialcharsboo = true;
        let firstnameError = true;
        let lastnameError = true;
        let emailError = true;
        $("#name").keyup(function () {
          validationFirstName();
        });
        $("#surname").keyup(function () {
          validationLastName();
        });
        $("#birthday").on("blur", function () {
          validationBirthday();
        });
        $("#pwd").keyup(function () {
          validationPassword();
        });
        $("#email").keyup(function () {
          validationEmail();
        });
        $("#submit-btn").on("click", function () {
          validationPassword();
          validationEmail();
        });
        // function for the firstname validation
        function validationFirstName() {
          let valueFN = $("#name").val();
          if (valueFN.length == "") {
            $(".empty-feedback-fn").show();
            $(".invalid-feedback-fn").hide();
            $("#name").css("border", "1px solid red");
            firstnameError = false;
            return false;
          } else if (specialchars.test(valueFN) == false) {
            $(".invalid-feedback-fn").show();
            $(".empty-feedback-fn").hide();
            $("#name").css("border", "1px solid red");
            specialcharsboo = false;
            return false;
          } else {
            $(".empty-feedback-fn").hide();
            $(".invalid-feedback-fn").hide();
          }
        }
        // function for the lastname validation
        function validationLastName() {
          let valueLN = $("#surname").val();
          if (valueLN.length == "") {
            $(".empty-feedback-ln").show();
            $(".invalid-feedback-ln").hide();
            $("#surname").css("border", "1px solid red");
            lastnameError = false;
            return false;
          } else if (specialchars.test(valueLN) == false) {
            $(".invalid-feedback-ln").show();
            $(".empty-feedback-ln").hide();
            $("#surname").css("border", "1px solid red");
            specialcharsboo = false;
            return false;
          } else {
            $(".empty-feedback-ln").hide();
            $(".invalid-feedback-ln").hide();
          }
        }
        // function for the password
        function validationPassword() {
          let password = $("#pwd").val();
          if (password.length == "") {
            $(".empty-feedback-pw").show();
            $(".invalid-feedback-pw").hide();
            $("#pwd").css("border", "1px solid red");
          } else if (password.length <= 8) {
            $(".invalid-feedback-pw").show();
            $(".empty-feedback-pw").hide();
            $("#pwd").css("border", "1px solid red");
          } else if (
            pwdUpper.test(password) &&
            pwdLower.test(password) &&
            pwdNumber.test(password) &&
            pwdSpecial.test(password) == false
          ) {
            $(".invalid-feedback-pw").show();
            $(".empty-feedback-pw").hide();
            $("#pwd").css("border", "1px solid red");
          } else {
            $(".empty-feedback-pw").hide();
            $(".invalid-feedback-pw").hide();
          }
        }
        // function for the birthdate
        function validationBirthday() {
          let today = new Date();
          let birthDate = new Date($("#birthday").val());
          let age = today.getFullYear() - birthDate.getFullYear();
          if (age <= 18) {
            $(".invalid-feedback-bd").show();
            $("#birthday").css("border", "1px solid red");
          } else if ("dd/mm/yy") {
            $(".empty-feedback-bd").show();
            $("#birthday").css("border", "1px solid red");
          } else {
            $(".invalid-feedback-bd").hide();
            $("#birthday").css("border", "1px solid green");
          }
        }
        // function for email
        function validationEmail() {
          let emailInput = $("#email").val();
          if (emailInput.value.match(validRegex)) {
            alert("Valid email address!");
            return true;
          } else {
            alert("Invalid email address!");
            return false;
          }
        
          // if (emailInput.length == "") {
          //   $(".empty-feedback-em").show();
          //   $(".invalid-feedback-em").hide();
          //   $("#email").css("border", "1px solid red");
          // } else if (emailInput.test(emailRegex) == true) {
          //   $(".invalid-feedback-em").show();
          //   $(".empty-feedback-em").hide();
          //   $("#email").css("border", "1px solid red");
            // } else {
            //   $(".empty-feedback-em").hide();
            //   $(".invalid-feedback-em").hide();
            // }
          // }
        }
        // function phone
      });
    </script>
  </body>
</html>
